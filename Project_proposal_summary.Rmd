---
title: "Group Project Proposal"
author: "Chase McDonald"
date: "2022-10-11"
output:
  pdf_document: default
  html_document: default
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

**Dimensions**
```{r}
df = read.csv("UserCarData.csv")
dim(df)
```
**Summary stats**
```{r}
library(tidyverse)

df <- df %>% 
  group_by(Sales_ID) %>% 
  mutate(Sold = sum(sold=='Y'))

df <- df[,-18]
         
#################################################


df[sapply(df,is.character)] <- lapply(df[sapply(df,is.character)],as.factor) # Changes all character types to factors for each column
df$year <- as.factor(df$year) # Changes int year to factor year

#####################################################


df <- df %>%
  mutate(selling_price = selling_price * 0.01,
         mi_driven = round(km_driven * 0.6213712)) %>%
  select(-c(km_driven)) # Converts Rubies to Dollars, Converts Km to Miles, and removes the Km column

names(df) <- tolower(names(df))
summary(df) 
```
**Data structure**

```{r}
glimpse(df)
```
**some pretty graphs**

```{r}
library(ggplot2)
library(gridExtra)
library(ggthemes)

selling_price <- df %>% 
  group_by(Sold) %>% 
  summarise(Avg.Price = mean(selling_price))

barplot<- ggplot(selling_price, aes(x = as.factor(Sold), y =Avg.Price )) + geom_bar(stat = 'identity') + theme_wsj() + labs(title = 'Price of sold vs. not sold', y= 'Price' ); barplot

###############################################################3

location <- df %>% 
  group_by(State.or.Province) %>% 
  summarise(Avg.Price = mean(selling_price))  

##################################################################

box <- ggplot(df, aes(x=selling_price)) + geom_histogram() + theme_wsj() + labs(title = 'Distribution of Price'); box
  

print(grid.arrange(barplot,box, ncol =2))
```

